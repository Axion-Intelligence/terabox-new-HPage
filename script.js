// Complete trilingual translations for TERABOX website
const translations = {
    ja: {
        // Navigation
        'nav-news': 'お知らせ',
        'nav-company': '会社概要',
        'nav-message': '代表挨拶',
        'nav-business': '事業内容',
        'nav-recruit': '採用情報',
        'nav-access': 'アクセス',
        'nav-contact': 'お問い合わせ',
        
        // Hero Section
        'hero-title': 'WELCOME TO<br>Terabox',
        'hero-subtitle': 'AI Solution<br>Technology',
        'hero-description': '想無ぜぱてり韓地ごあぐぼ件表治ク<br>たン庫供ひほド社89関よゅょ南路ミ<br>セオテ年望ツ速講21幻ちんぴげ。私',
        'hero-cta': '詳細を見る',
        
        // News Section
        'news-title': 'お知らせ',
        'news-subtitle': '最新のニュースと情報をお届けします',
        'news-item-title': 'Terabox',
        'news-item-text': '想無ぜぱてり韓地ごあぐぼ件表治クたン庫供ひほド社89関よゅょ南路ミセオテ年望ツ速講21幻ちんぴげ。',
        
        // Company Section
        'company-title': '会社概要',
        'company-subtitle': 'Company Information',
        'company-headquarters': '本社',
        'company-name-label': '名　称',
        'company-name-value': 'テラボックス株式会社',
        'company-address-label': '所在地',
        'company-address-value': '〒104-0045 東京都中央区築地6丁目17-4<br>リードシー築地ビル 4F',
        'company-tel-label': 'TEL',
        'company-tel-value': '03-5542-7798',
        'company-email-label': 'E-mail',
        'company-email-value': 'info@terabox.jp',
        'company-established-label': '設立日',
        'company-established-value': '平成28年4月',
        'company-capital-label': '資本金',
        'company-capital-value': '2000万円',
        'company-ceo-label': '代表者',
        'company-ceo-value': '荊　威',
        'company-lawyer-label': '顧問弁護士',
        'company-lawyer-value': '飯田綜合法律事務所',
        
        // Message Section
        'message-title': '代表挨拶',
        'message-subtitle': 'Message from CEO',
        'ceo-photo-placeholder': '代表者写真<br>プレースホルダー',
        'ceo-name': '荊　威',
        'ceo-title': '代表取締役',
        'message-greeting': '拝啓',
        'message-p1': '貴社ますますご清栄のこととお慶び申し上げます。',
        'message-p2': 'このたびテラボックスは、日系企業で長く働きながら日本のビジネスを身に付けた経験豊富な精鋭メンバーの結集により設立させていただきました。今後とも、お客様から信頼されるビジネスパートナーとして真摯に業務に取り組んで参ります。',
        'message-p3': '昨今では外国系のIT企業は乱立気味であり、ともすれば人材を奪い合うような状況に陥りがちな市況でもある中、弊社の創業メンバーは逆転の発想と長い業界経験を活かし、互いに協力関係を築き合えるパートナーネットワークの仕組みを構築いたしました。',
        'message-p4': '優秀なビジネスパートナーとの緊密な連携により、お客様の様々なニーズに対応できる体制を整えております。',
        'message-p5': '弊社の主な事業範囲としては、AIソリューション事業、IoT・スマートシステム事業、Blockchain & Web3事業、エンタープライズソリューション事業、エンジニアリング事業、人材事業の六つの柱を軸に事業展開しております。また、特に金融・保険業界の経験者が多数在籍していることから、セキュリティに対する高い意識と豊富な知識も保有しております。',
        'message-p6': '今後とも弊社ならびに弊社ネットワークの経験値と知見を結集し、貴社のご要望に柔軟に対応して参ります。また、それに対応するための十分以上の知力と体力を備えていると自負致しております。貴社のご期待に応えるべく全力を尽くす所存でございますので、何卒ご検討の程宜しくお願い申し上げます。',
        'message-closing': '敬具',
        'message-company': 'テラボックス株式会社',
        'message-signature': '代表取締役　荊威',
        
        // Mission/Vision Section
        'mission-title': '私たちのミッション',
        'mission-subtitle': 'Our Mission',
        'mission-text': '想無ぜぱてり韓地ごあぐぼ件表治クたン庫供ひほド社89関よゅょ南路ミセオテ年望ツ速講21幻ちんぴげ。私官勝雪リユ師野はそば告者トやめー航質ねフ秀劇マラミ業季ぞびや報思ぐレぼる光止ルぽざス道97入むずま図氏ツ恩氏ロ用来ッ前東ウオヨア経未オユテ面5長エ協身ね。',
        'vision-title': '私たちのビジョン',
        'vision-subtitle': 'Our Vision',
        'vision-text': '想無ぜぱてり韓地ごあぐぼ件表治クたン庫供ひほド社89関よゅょ南路ミセオテ年望ツ速講21幻ちんぴげ。私官勝雪リユ師野はそば告者トやめー航質ねフ秀劇マラミ業季ぞびや報思ぐレぼる光止ルぽざス道97入むずま図氏ツ恩氏ロ用来ッ前東ウオヨア経未オユテ面5長エ協身ね。',
        
        // Business Section
        'business-title': '事業内容',
        'business-subtitle': 'Our Business Solutions',
        'business-ai-title': 'AI ソリューション開発',
        'business-ai-text': '機械学習とディープラーニング技術を活用した、カスタムAIソリューションの開発・導入支援を行います。お客様の業務課題に合わせた最適なAIシステムを提供いたします。',
        'business-ai-tags': '機械学習 | ディープラーニング | 自然言語処理',
        'business-data-title': 'データ分析・コンサルティング',
        'business-data-text': '蓄積されたデータから価値ある洞察を抽出し、ビジネス成長に活用するためのデータ分析サービスと戦略コンサルティングを提供します。',
        'business-data-tags': 'ビッグデータ | 予測分析 | ビジネスインテリジェンス',
        'business-system-title': 'システム開発・運用',
        'business-system-text': '最新のクラウド技術とAI技術を組み合わせた、スケーラブルで効率的なシステムの設計・開発・運用保守サービスを提供します。',
        'business-system-tags': 'クラウド | DevOps | システム運用',
        
        // Recruit Section
        'recruit-title': '採用情報',
        'recruit-subtitle': 'Join Our Team',
        'recruit-requirements-title': '募集要項（新卒・中途）',
        'recruit-position-label': '募集職種',
        'recruit-position-value': '①ITエンジニア　②総合職',
        'recruit-hours-label': '勤務時間',
        'recruit-hours-value': '9:00～18:00（休憩1時間）　土日祝日休み　年次有給休暇の計画的付与あり',
        'recruit-hours-note': '※勤務時間・休みは職種や部署によって異なる場合があります。相談可。',
        'recruit-allowance-label': '諸手当',
        'recruit-allowance-value': '通勤手当、家族手当、勤続手当、役職手当等あり',
        'recruit-salary-label': '給与',
        'recruit-salary-new': '新卒',
        'recruit-salary-mid': '中途採用',
        'recruit-salary-mid-range': '年収400～1,000万円',
        'recruit-raise-label': '昇給・昇格',
        'recruit-raise-value': '半期毎評定あり',
        'recruit-trial-label': '試用・研修期間について',
        'recruit-trial-value': '３ヶ月',
        'recruit-vacation-label': '休暇',
        'recruit-vacation-value': '週休2日制　リフレッシュ休暇',
        'recruit-training-label': '研修制度',
        'recruit-training-value': '能力開発体系に基づく研修<br>テクニカルスキル研修<br>eラーニング研修　OJT',
        'recruit-positions-title': '中途採用職種',
        
        // Access Section
        'access-title': 'アクセス',
        'access-subtitle': 'How to reach us',
        'access-company-label': '会社名',
        'access-company-value': '株式会社Terabox',
        'access-address-label': '住所',
        'access-address-value': '〒100-0001<br>東京都千代田区千代田1-1-1<br>Teraboxビル 10F',
        'access-station-label': '最寄り駅',
        'access-station-value': 'JR東京駅 徒歩5分<br>地下鉄大手町駅 徒歩3分',
        'access-phone-label': '電話番号',
        'access-phone-value': '03-1234-5678',
        'access-fax-label': 'FAX番号',
        'access-fax-value': '03-1234-5679',
        'access-hours-label': '営業時間',
        'access-hours-value': '平日 9:00 - 18:00<br>(土日祝日は休業)',
        'access-map-text': 'Google Maps',
        
        // Contact Section
        'contact-title': 'お問い合わせ',
        'contact-subtitle': 'Contact Us',
        'contact-description': '想無ぜぱてり韓地ごあぐぼ件表治クたン庫供ひほド社89関よゅょ南路ミセオテ年望ツ速講21幻ちんぴげ。',
        'contact-cta': '詳細を見る',
        
        // Footer
        'footer-copyright': 'TERABOX Copyright.'
    },
    
    en: {
        // Navigation
        'nav-news': 'News',
        'nav-company': 'Company',
        'nav-message': 'CEO Message',
        'nav-business': 'Business',
        'nav-recruit': 'Careers',
        'nav-access': 'Access',
        'nav-contact': 'Contact',
        
        // Hero Section
        'hero-title': 'WELCOME TO<br>Terabox',
        'hero-subtitle': 'AI Solution<br>Technology',
        'hero-description': 'Leading the future with innovative AI solutions.<br>We provide cutting-edge technology services<br>to transform your business digitally.',
        'hero-cta': 'Learn More',
        
        // News Section
        'news-title': 'News & Updates',
        'news-subtitle': 'Stay informed with our latest news and announcements',
        'news-item-title': 'Terabox News',
        'news-item-text': 'Latest updates on our AI solution development and technology innovations in the digital transformation space.',
        
        // Company Section
        'company-title': 'Company Overview',
        'company-subtitle': '会社情報',
        'company-headquarters': 'Headquarters',
        'company-name-label': 'Company Name',
        'company-name-value': 'Terabox Co., Ltd.',
        'company-address-label': 'Address',
        'company-address-value': '〒104-0045 Tokyo, Chuo City, Tsukiji 6-17-4<br>Reed Sea Tsukiji Building 4F',
        'company-tel-label': 'TEL',
        'company-tel-value': '03-5542-7798',
        'company-email-label': 'E-mail',
        'company-email-value': 'info@terabox.jp',
        'company-established-label': 'Established',
        'company-established-value': 'April 2016',
        'company-capital-label': 'Capital',
        'company-capital-value': '20 Million Yen',
        'company-ceo-label': 'Representative',
        'company-ceo-value': 'Jing Wei',
        'company-lawyer-label': 'Legal Advisor',
        'company-lawyer-value': 'Iida Sogo Law Office',
        
        // Message Section
        'message-title': 'Message from CEO',
        'message-subtitle': '代表挨拶',
        'ceo-photo-placeholder': 'CEO Photo<br>Placeholder',
        'ceo-name': 'Jing Wei',
        'ceo-title': 'President & CEO',
        'message-greeting': 'Dear Valued Partners,',
        'message-p1': 'We are pleased to see your company continues to prosper.',
        'message-p2': 'Terabox was established through the collaboration of experienced elite members who have long worked in Japanese companies and acquired deep knowledge of Japanese business practices. We will continue to work diligently as a trusted business partner for our customers.',
        'message-p3': 'In recent years, foreign IT companies have become increasingly prevalent, and the market tends to fall into a situation where companies compete for talent. Our founding members have leveraged their reverse thinking and extensive industry experience to build a partner network system that enables mutual cooperation.',
        'message-p4': 'Through close collaboration with excellent business partners, we have established a system that can respond to various customer needs.',
        'message-p5': 'Our main business scope is based on three pillars: Engineering business, Solution business, and IT Service business. In addition, since we have many experienced professionals from the financial and insurance industries, we possess high security awareness and extensive knowledge.',
        'message-p6': 'We will continue to combine the experience and knowledge of our company and our network to flexibly respond to your requirements. We are confident that we have more than sufficient intelligence and physical strength to handle this. We will do our best to meet your expectations, so we ask for your kind consideration.',
        'message-closing': 'Sincerely,',
        'message-company': 'Terabox Co., Ltd.',
        'message-signature': 'President & CEO, Jing Wei',
        
        // Mission/Vision Section
        'mission-title': 'Our Mission',
        'mission-subtitle': '私たちのミッション',
        'mission-text': 'To revolutionize business operations through innovative AI solutions, empowering organizations to achieve unprecedented efficiency and growth in the digital age.',
        'vision-title': 'Our Vision',
        'vision-subtitle': '私たちのビジョン',
        'vision-text': 'To become the leading AI technology partner in Asia, driving digital transformation and creating sustainable value for businesses across all industries.',
        
        // Business Section
        'business-title': 'Our Business',
        'business-subtitle': '事業内容',
        'business-ai-title': 'AI Solution Development',
        'business-ai-text': 'We develop and implement custom AI solutions utilizing machine learning and deep learning technologies. We provide optimal AI systems tailored to our clients\' business challenges.',
        'business-ai-tags': 'Machine Learning | Deep Learning | Natural Language Processing',
        'business-data-title': 'Data Analytics & Consulting',
        'business-data-text': 'We provide data analysis services and strategic consulting to extract valuable insights from accumulated data and utilize them for business growth.',
        'business-data-tags': 'Big Data | Predictive Analytics | Business Intelligence',
        'business-system-title': 'System Development & Operations',
        'business-system-text': 'We provide scalable and efficient system design, development, and operational maintenance services that combine the latest cloud and AI technologies.',
        'business-system-tags': 'Cloud | DevOps | System Operations',
        
        // Recruit Section
        'recruit-title': 'Careers',
        'recruit-subtitle': '採用情報',
        'recruit-requirements-title': 'Job Requirements (New Graduates & Mid-Career)',
        'recruit-position-label': 'Positions',
        'recruit-position-value': '①IT Engineer　②General Position',
        'recruit-hours-label': 'Working Hours',
        'recruit-hours-value': '9:00-18:00 (1 hour break) Weekends and holidays off, planned annual leave available',
        'recruit-hours-note': '※Working hours and holidays may vary by position or department. Negotiable.',
        'recruit-allowance-label': 'Allowances',
        'recruit-allowance-value': 'Transportation, family, service years, position allowances available',
        'recruit-salary-label': 'Salary',
        'recruit-salary-new': 'New Graduates',
        'recruit-salary-mid': 'Mid-Career',
        'recruit-salary-mid-range': 'Annual salary 4-10 million yen',
        'recruit-raise-label': 'Promotion & Raises',
        'recruit-raise-value': 'Semi-annual evaluations',
        'recruit-trial-label': 'Trial/Training Period',
        'recruit-trial-value': '3 months',
        'recruit-vacation-label': 'Holidays',
        'recruit-vacation-value': '5-day work week, refresh leave',
        'recruit-training-label': 'Training System',
        'recruit-training-value': 'Capability development training<br>Technical skills training<br>E-learning, OJT',
        'recruit-positions-title': 'Mid-Career Positions',
        
        // Access Section
        'access-title': 'Access',
        'access-subtitle': 'アクセス情報',
        'access-company-label': 'Company Name',
        'access-company-value': 'Terabox Co., Ltd.',
        'access-address-label': 'Address',
        'access-address-value': '〒100-0001<br>1-1-1 Chiyoda, Chiyoda City, Tokyo<br>Terabox Building 10F',
        'access-station-label': 'Nearest Station',
        'access-station-value': 'JR Tokyo Station 5min walk<br>Otemachi Station 3min walk',
        'access-phone-label': 'Phone',
        'access-phone-value': '03-1234-5678',
        'access-fax-label': 'FAX',
        'access-fax-value': '03-1234-5679',
        'access-hours-label': 'Business Hours',
        'access-hours-value': 'Weekdays 9:00 - 18:00<br>(Closed on weekends and holidays)',
        'access-map-text': 'Google Maps',
        
        // Contact Section
        'contact-title': 'Contact Us',
        'contact-subtitle': 'お問い合わせ',
        'contact-description': 'Get in touch with us to learn more about our AI solutions and how we can help transform your business.',
        'contact-cta': 'Get Started',
        
        // Footer
        'footer-copyright': 'TERABOX Copyright.'
    },
    
    zh: {
        // Navigation
        'nav-news': '新闻动态',
        'nav-company': '公司概况',
        'nav-message': '总裁致辞',
        'nav-business': '业务内容',
        'nav-recruit': '招聘信息',
        'nav-access': '交通指南',
        'nav-contact': '联系我们',
        
        // Hero Section
        'hero-title': '欢迎来到<br>Terabox',
        'hero-subtitle': 'AI解决方案<br>技术公司',
        'hero-description': '引领未来的创新AI解决方案。<br>我们提供尖端技术服务，<br>助力您的企业数字化转型。',
        'hero-cta': '了解更多',
        
        // News Section
        'news-title': '新闻动态',
        'news-subtitle': '获取我们最新的新闻和公告信息',
        'news-item-title': 'Terabox新闻',
        'news-item-text': '关于我们AI解决方案开发和数字化转型领域技术创新的最新动态。',
        
        // Company Section
        'company-title': '公司概况',
        'company-subtitle': 'Company Information',
        'company-headquarters': '总部',
        'company-name-label': '公司名称',
        'company-name-value': 'Terabox株式会社',
        'company-address-label': '地址',
        'company-address-value': '〒104-0045 东京都中央区築地6丁目17-4<br>リードシー築地大厦 4F',
        'company-tel-label': '电话',
        'company-tel-value': '03-5542-7798',
        'company-email-label': '邮箱',
        'company-email-value': 'info@terabox.jp',
        'company-established-label': '成立日期',
        'company-established-value': '2016年4月',
        'company-capital-label': '注册资本',
        'company-capital-value': '2000万日元',
        'company-ceo-label': '法人代表',
        'company-ceo-value': '荆威',
        'company-lawyer-label': '法律顾问',
        'company-lawyer-value': '飯田綜合法律事务所',
        
        // Message Section
        'message-title': '总裁致辞',
        'message-subtitle': 'Message from CEO',
        'ceo-photo-placeholder': '总裁照片<br>占位符',
        'ceo-name': '荆威',
        'ceo-title': '代表董事',
        'message-greeting': '尊敬的合作伙伴：',
        'message-p1': '很高兴看到贵公司日益繁荣发展。',
        'message-p2': 'Terabox是由在日本企业长期工作并掌握了日本商务知识的经验丰富的精英成员合作成立的。我们将继续作为客户信赖的商业伙伴，真诚地开展业务。',
        'message-p3': '近年来，外资IT企业呈现乱立态势，市场往往陷入人才争夺的局面。我们的创始成员运用逆向思维和丰富的行业经验，构建了能够相互建立合作关系的合作伙伴网络机制。',
        'message-p4': '通过与优秀商业伙伴的紧密合作，我们建立了能够满足客户各种需求的体制。',
        'message-p5': '我们的主要业务范围以工程业务、解决方案业务、IT服务业务为三大支柱。此外，由于有众多金融保险行业的经验者在籍，我们也拥有对安全的高度意识和丰富知识。',
        'message-p6': '今后我们将继续结合公司及公司网络的经验值和见解，灵活应对贵公司的要求。我们相信具备了应对这些要求的充分智力和体力。我们将全力以赴满足贵公司的期待，恳请予以考虑。',
        'message-closing': '此致敬礼',
        'message-company': 'Terabox株式会社',
        'message-signature': '代表董事 荆威',
        
        // Mission/Vision Section
        'mission-title': '我们的使命',
        'mission-subtitle': 'Our Mission',
        'mission-text': '通过创新的AI解决方案革命性地改变商业运营，赋能组织在数字时代实现前所未有的效率和增长。',
        'vision-title': '我们的愿景',
        'vision-subtitle': 'Our Vision',
        'vision-text': '成为亚洲领先的AI技术合作伙伴，推动数字化转型，为各行各业的企业创造可持续价值。',
        
        // Business Section
        'business-title': '业务内容',
        'business-subtitle': 'Our Business Solutions',
        'business-ai-title': 'AI解决方案开发',
        'business-ai-text': '我们利用机器学习和深度学习技术开发和实施定制AI解决方案。我们提供针对客户业务挑战的最优AI系统。',
        'business-ai-tags': '机器学习 | 深度学习 | 自然语言处理',
        'business-data-title': '数据分析与咨询',
        'business-data-text': '我们提供数据分析服务和战略咨询，从积累的数据中提取有价值的洞察，并将其用于业务增长。',
        'business-data-tags': '大数据 | 预测分析 | 商业智能',
        'business-system-title': '系统开发与运营',
        'business-system-text': '我们提供结合最新云技术和AI技术的可扩展高效系统设计、开发和运营维护服务。',
        'business-system-tags': '云计算 | DevOps | 系统运营',
        
        // Recruit Section
        'recruit-title': '招聘信息',
        'recruit-subtitle': 'Join Our Team',
        'recruit-requirements-title': '招聘要求（应届生·社会人士）',
        'recruit-position-label': '招聘职位',
        'recruit-position-value': '①IT工程师　②综合职位',
        'recruit-hours-label': '工作时间',
        'recruit-hours-value': '9:00～18:00（休息1小时）周末节假日休息　年假计划性安排',
        'recruit-hours-note': '※工作时间和休假可能因职位或部门而异。可协商。',
        'recruit-allowance-label': '各种补助',
        'recruit-allowance-value': '交通补助、家庭补助、勤续补助、职位补助等',
        'recruit-salary-label': '薪资',
        'recruit-salary-new': '应届生',
        'recruit-salary-mid': '社会招聘',
        'recruit-salary-mid-range': '年收入400～1000万日元',
        'recruit-raise-label': '升职加薪',
        'recruit-raise-value': '半年一次评定',
        'recruit-trial-label': '试用培训期间',
        'recruit-trial-value': '3个月',
        'recruit-vacation-label': '休假',
        'recruit-vacation-value': '周休2日制　有调养假',
        'recruit-training-label': '培训制度',
        'recruit-training-value': '基于能力开发体系的培训<br>技术技能培训<br>在线培训　OJT',
        'recruit-positions-title': '社会招聘职位',
        
        // Access Section
        'access-title': '交通指南',
        'access-subtitle': 'How to reach us',
        'access-company-label': '公司名称',
        'access-company-value': 'Terabox株式会社',
        'access-address-label': '地址',
        'access-address-value': '〒100-0001<br>东京都千代田区千代田1-1-1<br>Terabox大厦 10F',
        'access-station-label': '最近车站',
        'access-station-value': 'JR东京站 步行5分钟<br>地铁大手町站 步行3分钟',
        'access-phone-label': '电话号码',
        'access-phone-value': '03-1234-5678',
        'access-fax-label': '传真号码',
        'access-fax-value': '03-1234-5679',
        'access-hours-label': '营业时间',
        'access-hours-value': '工作日 9:00 - 18:00<br>(周末节假日休业)',
        'access-map-text': 'Google Maps',
        
        // Contact Section
        'contact-title': '联系我们',
        'contact-subtitle': 'Contact Us',
        'contact-description': '联系我们，了解更多关于我们的AI解决方案，以及我们如何帮助您的企业实现转型。',
        'contact-cta': '开始咨询',
        
        // Footer
        'footer-copyright': 'TERABOX Copyright.'
    }
};

// Language switching functionality
function switchLanguage(lang) {
    // Update all elements with data-lang-key attribute
    document.querySelectorAll('[data-lang-key]').forEach(element => {
        const key = element.getAttribute('data-lang-key');
        if (translations[lang] && translations[lang][key]) {
            element.innerHTML = translations[lang][key];
        }
    });

    // Update active language button
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    document.querySelector(`[data-lang="${lang}"]`).classList.add('active');

    // Store selected language
    localStorage.setItem('terabox-language', lang);

    // Add visual feedback
    const langText = {
        'ja': '日本語に切り替えました',
        'en': 'Switched to English',
        'zh': '已切换到中文'
    };

    showLanguageNotification(langText[lang]);
}

// Show language switch notification
function showLanguageNotification(message) {
    // Remove existing notification
    const existing = document.querySelector('.lang-notification');
    if (existing) {
        existing.remove();
    }

    const notification = document.createElement('div');
    notification.className = 'lang-notification';
    notification.textContent = message;
    notification.style.cssText = `
        position: fixed;
        top: 100px;
        right: 20px;
        background: linear-gradient(45deg, #9FD500, #7FB800);
        color: #000;
        padding: 12px 20px;
        border-radius: 6px;
        font-weight: bold;
        z-index: 10000;
        animation: slideInFade 3s ease-out forwards;
        box-shadow: 0 4px 15px rgba(159, 213, 0, 0.3);
    `;

    document.body.appendChild(notification);

    // Add animation styles
    if (!document.querySelector('#lang-notification-styles')) {
        const style = document.createElement('style');
        style.id = 'lang-notification-styles';
        style.textContent = `
            @keyframes slideInFade {
                0% { transform: translateX(100%); opacity: 0; }
                15% { transform: translateX(0); opacity: 1; }
                85% { transform: translateX(0); opacity: 1; }
                100% { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    }

    setTimeout(() => {
        if (notification.parentNode) {
            notification.remove();
        }
    }, 3000);
}

// Initialize language switching
function initLanguageSwitching() {
    // Load saved language or default to Japanese
    const savedLang = localStorage.getItem('terabox-language') || 'ja';
    switchLanguage(savedLang);

    // Add event listeners to language buttons
    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const lang = this.getAttribute('data-lang');
            switchLanguage(lang);
        });
    });
}

// Enhanced particle creation
function createParticles() {
    const particlesContainer = document.getElementById('particles');
    const particleCount = 50;

    for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        const size = Math.random() * 4 + 2;
        particle.style.width = size + 'px';
        particle.style.height = size + 'px';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.top = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 6 + 's';
        particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
        
        particlesContainer.appendChild(particle);
    }
}

// Enhanced smooth scrolling
function initSmoothScrolling() {
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                const headerHeight = 80;
                const targetPosition = target.offsetTop - headerHeight;
                window.scrollTo({
                    top: targetPosition,
                    behavior: 'smooth'
                });
            }
        });
    });
}

// Enhanced scroll animations
function initScrollAnimations() {
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, observerOptions);

    document.querySelectorAll('.scroll-animate').forEach(el => {
        observer.observe(el);
    });
}

// Enhanced header scroll effect
function initHeaderScrollEffect() {
    const header = document.querySelector('.header');
    
    window.addEventListener('scroll', function() {
        if (window.scrollY > 100) {
            header.style.background = 'rgba(0, 0, 0, 0.95)';
            header.style.boxShadow = '0 10px 30px -10px rgba(0, 0, 0, 0.3)';
        } else {
            header.style.background = 'rgba(0, 0, 0, 0.9)';
            header.style.boxShadow = 'none';
        }
    });
}

// Enhanced form handling with position application
function initFormHandling() {
    const form = document.getElementById('entryForm');
    const privacyConsent = document.getElementById('privacyConsent');
    const submitBtn = document.getElementById('submitBtn');
    const applyBtns = document.querySelectorAll('.apply-btn');

    // Handle position application buttons
    applyBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const positionCard = this.closest('.position-card');
            const positionTitle = positionCard.querySelector('.position-title').textContent;
            
            // Scroll to form section
            const formSection = document.getElementById('entryForm');
            if (formSection) {
                formSection.scrollIntoView({ behavior: 'smooth' });
                
                // Pre-fill position in free text area
                const textarea = formSection.querySelector('.form-textarea');
                if (textarea) {
                    textarea.value = `応募職種: ${positionTitle}\n\n`;
                    textarea.focus();
                }
            }
            
            // Visual feedback
            this.style.background = 'linear-gradient(45deg, #7FB800, #9FD500)';
            this.textContent = '応募フォームへ移動しました';
            
            setTimeout(() => {
                this.style.background = 'linear-gradient(45deg, #9FD500, #7FB800)';
                this.textContent = '応募する';
            }, 2000);
        });
    });

    if (!form || !privacyConsent || !submitBtn) {
        return;
    }

    privacyConsent.addEventListener('change', function() {
        submitBtn.disabled = !this.checked;
    });

    form.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const requiredFields = form.querySelectorAll('input[required], textarea[required]');
        let isValid = true;
        
        requiredFields.forEach(field => {
            if (!field.value.trim()) {
                isValid = false;
                field.style.borderColor = '#ff6b6b';
            } else {
                field.style.borderColor = '#333';
            }
        });
        
        if (!privacyConsent.checked) {
            isValid = false;
            alert('個人情報の取り扱いについて同意していただく必要があります。');
            return;
        }
        
        if (isValid) {
            alert('エントリーフォームを送信しました。ありがとうございます。');
        } else {
            alert('必須項目をすべて入力してください。');
        }
    });

    // Real-time validation feedback
    const requiredInputs = form.querySelectorAll('input[required], textarea[required]');
    requiredInputs.forEach(input => {
        input.addEventListener('blur', function() {
            if (!this.value.trim()) {
                this.style.borderColor = '#ff6b6b';
            } else {
                this.style.borderColor = '#333';
            }
        });

        input.addEventListener('input', function() {
            if (this.value.trim()) {
                this.style.borderColor = '#9FD500';
            }
        });
    });
}

// Mobile menu functionality
function initMobileMenu() {
    const nav = document.querySelector('.nav');
    const navLinks = document.querySelector('.nav-links');
    
    const mobileMenuBtn = document.createElement('button');
    mobileMenuBtn.className = 'mobile-menu-btn';
    mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
    mobileMenuBtn.style.cssText = `
        display: none;
        background: none;
        border: none;
        color: #9FD500;
        font-size: 24px;
        cursor: pointer;
        padding: 8px;
        border-radius: 4px;
        transition: all 0.3s;
    `;
    
    nav.appendChild(mobileMenuBtn);
    
    mobileMenuBtn.addEventListener('click', function() {
        navLinks.classList.toggle('mobile-active');
        const icon = this.querySelector('i');
        if (navLinks.classList.contains('mobile-active')) {
            icon.className = 'fas fa-times';
        } else {
            icon.className = 'fas fa-bars';
        }
    });
    
    // Close mobile menu when clicking on a link
    navLinks.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
            navLinks.classList.remove('mobile-active');
            mobileMenuBtn.querySelector('i').className = 'fas fa-bars';
        });
    });
    
    // Add mobile styles
    const style = document.createElement('style');
    style.textContent = `
        @media (max-width: 768px) {
            .mobile-menu-btn {
                display: block !important;
            }
            
            .nav-links {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(0, 0, 0, 0.98);
                flex-direction: column;
                padding: 20px;
                gap: 15px;
                border-top: 1px solid #333;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            }
            
            .nav-links.mobile-active {
                display: flex !important;
            }
            
            .nav-links a {
                padding: 12px 0;
                border-bottom: 1px solid #333;
                text-align: center;
            }
            
            .nav-links a:last-child {
                border-bottom: none;
            }
        }
    `;
    document.head.appendChild(style);
}

// Enhanced performance optimization
let ticking = false;
function updateScrollEffects() {
    initHeaderScrollEffect();
    ticking = false;
}

// Add loading animation
function initLoadingAnimation() {
    const loader = document.createElement('div');
    loader.className = 'loader';
    loader.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0f0f0f 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        transition: opacity 0.5s ease;
    `;
    
    const loaderContent = document.createElement('div');
    loaderContent.style.cssText = `
        color: #9FD500;
        font-size: 28px;
        font-weight: bold;
        animation: pulse 1.5s infinite;
        text-align: center;
    `;
    loaderContent.innerHTML = `
        <div style="margin-bottom: 20px;">TERABOX</div>
        <div style="width: 40px; height: 4px; background: #9FD500; margin: 0 auto; border-radius: 2px; animation: loading 2s infinite;"></div>
    `;
    
    loader.appendChild(loaderContent);
    document.body.appendChild(loader);
    
    // Add animations
    const animationStyle = document.createElement('style');
    animationStyle.textContent = `
        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
        }
        @keyframes loading {
            0% { width: 0%; }
            50% { width: 100%; }
            100% { width: 0%; }
        }
    `;
    document.head.appendChild(animationStyle);
    
    // Remove loader when page is loaded
    window.addEventListener('load', function() {
        setTimeout(() => {
            loader.style.opacity = '0';
            setTimeout(() => {
                if (document.body.contains(loader)) {
                    document.body.removeChild(loader);
                }
            }, 500);
        }, 800);
    });
}

// Add hover effects for cards
function initCardHoverEffects() {
    const cards = document.querySelectorAll('.news-card, .business-card, .mv-card');
    
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-10px) scale(1.02)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
        });
    });
}

// Add parallax effect to hero section
function initParallaxEffect() {
    const hero = document.querySelector('.hero');
    const cube = document.querySelector('.cube-container');
    
    window.addEventListener('scroll', function() {
        if (!ticking) {
            const scrolled = window.pageYOffset;
            const rate = scrolled * -0.5;
            
            if (cube && scrolled < window.innerHeight) {
                cube.style.transform = `translateY(${rate}px)`;
            }
            
            ticking = true;
            requestAnimationFrame(() => {
                ticking = false;
            });
        }
    });
}

// Initialize all functionality
document.addEventListener('DOMContentLoaded', function() {
    initLoadingAnimation();
    initLanguageSwitching(); // Initialize language switching first
    initSmoothScrolling();
    initScrollAnimations();
    initHeaderScrollEffect();
    initFormHandling();
    initMobileMenu();
    initCardHoverEffects();
    initParallaxEffect();
});

// Initialize particles when page loads
window.addEventListener('load', function() {
    createParticles();
});

// Optimized scroll event handler
window.addEventListener('scroll', function() {
    if (!ticking) {
        requestAnimationFrame(updateScrollEffects);
        ticking = true;
    }
});

// Add keyboard navigation support
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        const mobileMenu = document.querySelector('.nav-links.mobile-active');
        if (mobileMenu) {
            mobileMenu.classList.remove('mobile-active');
            const menuBtn = document.querySelector('.mobile-menu-btn i');
            if (menuBtn) menuBtn.className = 'fas fa-bars';
        }
    }
});

// Add touch support for mobile devices
let touchStartY = 0;
document.addEventListener('touchstart', function(e) {
    touchStartY = e.touches[0].clientY;
});

document.addEventListener('touchmove', function(e) {
    const touchY = e.touches[0].clientY;
    const touchDiff = touchStartY - touchY;
    
    // Add subtle parallax effect on mobile
    const hero = document.querySelector('.hero');
    if (hero && window.pageYOffset < window.innerHeight) {
        const rate = touchDiff * 0.1;
        hero.style.transform = `translateY(${rate}px)`;
    }
});

// Enhanced accessibility
document.querySelectorAll('.cta-button, .submit-button').forEach(button => {
    button.addEventListener('focus', function() {
        this.style.outline = '2px solid #9FD500';
        this.style.outlineOffset = '2px';
    });
    
    button.addEventListener('blur', function() {
        this.style.outline = 'none';
    });
});

// Add error handling
window.addEventListener('error', function(e) {
    console.warn('页面加载时出现错误:', e.error);
});